{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-12-04 17:41:30.744399",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Purchase Receipt",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<!DOCTYPE html>\n<html>\n<head>\n  <style>\n    @media print {\n        @page { size: A4; margin: 15mm; }\n    }\n\n    body {\n        font-family: Arial, sans-serif;\n        font-size: 11pt;\n        margin: 0;\n        padding: 0;\n    }\n\n    table {\n        width: 100%;\n        border-collapse: collapse;\n        table-layout: fixed;\n    }\n\n    th, td {\n        border: 1px solid #000;\n        padding: 5px;\n        vertical-align: middle;\n    }\n\n    th {\n        background-color: #f0f0f0;\n        text-align: center;\n        font-weight: bold;\n        height: 45px !important; /* Header row height */\n        vertical-align: middle !important; /* Center text vertically */\n        padding: 0px !important; /* Remove padding to allow true vertical centering */\n        line-height: 45px !important; /* Match height for vertical centering */\n        font-size: 11pt !important; /* Increased font size for title row */\n    }\n\n    td.right {\n        text-align: right;\n    }\n\n    td.center {\n        text-align: center;\n    }\n\n    .header-cell {\n        border: none;\n        text-align: center;\n        padding: 10px 0;\n    }\n\n    .company-name {\n        font-size: 16pt;\n        font-weight: bold;\n        text-transform: uppercase;\n    }\n\n    .address {\n        font-size: 9pt;\n    }\n\n    .document-title {\n        font-size: 14pt;\n        font-weight: bold;\n        text-transform: uppercase;\n        margin: 10px 0;\n    }\n\n    .amount-words {\n        padding: 5px;\n        font-size: 10pt;\n    }\n\n    .signature-cell {\n        text-align: center;\n        font-weight: bold;\n        height: 150px;\n        vertical-align: bottom;\n        padding-bottom: 10px;\n        width: 16.66%;\n    }\n    \n    .supplier-info td {\n        vertical-align: top;\n        border-left: 1px solid #000;\n        border-right: 1px solid #000;\n        border-top: 1px solid #000;\n        border-bottom: 1px solid #000;\n        border-left: none;\n        border-right: none;\n        padding: 5px;\n        font-size: 10pt;\n    }\n\n    .supplier-info td:first-child {\n        border-left: 1px solid #000;\n    }\n\n    .supplier-info td:last-child {\n        border-right: 1px solid #000;\n    }\n\n    .desc-row td {\n        padding: 3px 5px !important; /* Balanced padding */\n        height: 28px !important; /* Comfortable height for description rows */\n        line-height: 1.2 !important; /* Tighter line height to prevent extra spacing */\n        font-size: 10pt; /* Slightly smaller font */\n        vertical-align: middle !important; /* Center content vertically */\n    }\n\n    /* Column widths - 6 column layout */\n    .col-desc {\n        width: 50%; /* 3 columns out of 6 */\n    }\n\n    .col-rate {\n        width: 16.66%; /* 1 column out of 6 */\n    }\n\n    .col-qty {\n        width: 16.66%; /* 1 column out of 6 */\n    }\n\n    .col-amount {\n        width: 16.66%; /* 1 column out of 6 */\n    }\n  </style>\n</head>\n<body>\n\n\n<table>\n  <!-- Header -->\n  <tr class=\"header-cell\">\n    <td colspan=\"6\" style=\"border: 1px solid #000;\">\n      <div class=\"company-name\">{{ doc.company }}</div>\n      <div class=\"address\">\n          \n{% set company_address_name = frappe.db.get_value(\n    \"Dynamic Link\",\n    {\n        \"link_doctype\": \"Company\",\n        \"link_name\": doc.company,\n        \"parenttype\": \"Address\"\n    },\n    \"parent\"\n) %}\n\n\n{% if company_address_name %}\n    {% set company_address = frappe.get_doc(\"Address\", company_address_name) %}\n{% else %}\n    {% set company_address = None %}\n{% endif %}\n\n{% if company_address and company_address.custom_district %}\n    {% set district = frappe.db.get_value(\n        \"District\",\n        company_address.custom_district,\n        \"district_name\"\n    ) %}\n{% else %}\n    {% set district = \"\" %}\n{% endif %}\n\n\n{% set tel_no = frappe.db.get_value(\"Company\", doc.company, \"phone_no\") %}\n{% set company_email = frappe.db.get_value(\"Company\", doc.company, \"email\") %}\n{% set company_website = frappe.db.get_value(\"Company\", doc.company, \"website\") %}\n\n\n\n{% if company_address %}\n\n    {{ company_address.address_line1 or \"\" }}\n    {{ company_address.address_line2 or \"\" }}<br>\n\n    {{ district or \"\" }}\n    {% if district %}, {% endif %}\n    {{ company_address.state or \"\" }}\n    {% if company_address.state %}, {% endif %}\n    {{ company_address.country or \"\" }}\n    {{ company_address.pincode or \"\" }}\n\n    <br>\n\n    Tel: {{ tel_no or \"\" }},\n    <span style=\"margin-left:5px!important;\">\n        Email ID: {{ company_email or \"\" }},\n    </span>\n    <span style=\"margin-left:5px!important;\">\n        Website: {{ company_website or \"\" }}\n    </span>\n\n{% endif %}\n\n\n      </div>\n      <div class=\"document-title\">MILK PURCHASE</div>\n    </td>\n  </tr>\n\n  <!-- Supplier Info Section -->\n  <tr class=\"supplier-info\">\n    <td colspan=\"2\" style=\"width: 33.33%;\">\n        <strong>Supplier</strong> : {{ doc.supplier }}<br>\n        <strong>Center</strong> : {{ doc.get('supplier_address') or '' }}\n    </td>\n    <td colspan=\"2\" style=\"width: 33.33%;\">\n        <strong>Date</strong> : {{ frappe.utils.formatdate(doc.posting_date, \"dd-MM-yyyy\") }}<br>\n        <strong>No.</strong> : {{ doc.name }}\n    </td>\n    <td colspan=\"2\" style=\"width: 33.33%;\">\n        <strong>Vehicle No.</strong> : {{ doc.get('lr_no') or '' }}<br>\n        <strong>Mob. No.</strong> : {{ doc.get('contact_mobile') or '' }}\n    </td>\n  </tr>\n\n  <!-- Details Table Header -->\n  <tr>\n    <th class=\"col-desc\" colspan=\"3\">Description</th>\n    <th class=\"col-rate\">Rate / Liter</th>\n    <th class=\"col-qty\">Qty. / Litre</th>\n    <th class=\"col-amount\">Amount</th>\n  </tr>\n\n  <!-- Details Table Body -->\n{% for item in doc.items %}\n    {% set qi = frappe.get_doc('Quality Inspection', item.quality_inspection) if item.quality_inspection else None %}\n    {% set readings_dict = {} %}\n    {% if qi %}\n        {% for r in qi.readings %}\n            {% set reading_value = r.reading_1 or r.reading_value or \"\" %}\n            {% set _ = readings_dict.update({r.specification: reading_value}) %}\n        {% endfor %}\n    {% endif %}\n\n    {% set first_weight = doc.custom_first_weight or \"\" %}\n    {% set second_weight = doc.custom_second_weight or \"\" %}\n    {% set net_weight_kg = doc.custom_net_weight or \"\" %}\n    {% set net_weight_litre = doc.custom_net_weight_litre or \"\" %}\n    \n{% set ns = namespace(base_rate=\"\") %}\n\n{% if doc.supplier and item.custom_milk_type %}\n    {% set supplier_doc = frappe.get_doc(\"Supplier\", doc.supplier) %}\n    {% for row in supplier_doc.custom_supplier_milk_profile %}\n        {% if row.milk_type == item.custom_milk_type %}\n            {% set ns.base_rate = row.base_rate %}\n        {% endif %}\n    {% endfor %}\n{% endif %}\n\n{% set item_rate = item.rate or item.rate_per_liter or 0 %}\n{% set raw_difference = (ns.base_rate or 0) - item_rate %}\n{% set rate_difference = raw_difference|abs %}\n\n\n\n    {% set parameters = [\n        {\"label\": \"First Weight\", \"value\": first_weight},\n        {\"label\": \"Second Weight\", \"value\": second_weight},\n        {\"label\": \"Net Weight kg\", \"value\": net_weight_kg},\n        {\"label\": \"Net Weight Litre\", \"value\": net_weight_litre},\n        {\"label\": \"Fat\", \"value\": item.custom_fat or \"\"},\n        {\"label\": \"L.R.\", \"value\": item.custom_lr or \"\"},\n        {\"label\": \"S.N.F.\", \"value\": item.custom_snf or \"\"},\n        {\"label\": \"T.P.\", \"value\": readings_dict.get(\"T.P.\", \"\")},\n        {\"label\": \"O.T.\", \"value\": readings_dict.get(\"O.T.\", \"\")},\n        {\"label\": \"Acidity\", \"value\": readings_dict.get(\"Acidity\", \"\")},\n        {\"label\": \"R.M.\", \"value\": readings_dict.get(\"RM\", \"\")},\n        {\"label\": \"Rs. / Liter\", \"value\": ns.base_rate},\n        {\"label\": \"Rs. less for different in S.N. F. , FAT & L.R.\", \"value\": \"%.3f\"|format(rate_difference)},\n    ] %}\n    \n    {% set readings_count = parameters|length %}\n\n    {% for p in parameters %}\n      <tr class=\"desc-row\">\n        <td class=\"col-desc\" colspan=\"3\" style=\"vertical-align: middle;\">\n          <table style=\"width: 100%; border: none; border-collapse: collapse;\">\n            <tr>\n              <td style=\"border: none; text-align: left; padding: 0; width: auto;\"><strong>{{ p.label }}</strong> : {{ p.value }}</td>\n            </tr>\n          </table>\n        </td>\n        {% if loop.first %}\n          <td rowspan=\"{{ readings_count }}\" class=\"center col-rate\" style=\"vertical-align: middle !important; text-align: center;\">{{ \"%.3f\"|format(item.rate or item.rate_per_liter or 0) }}</td>\n          <td rowspan=\"{{ readings_count }}\" class=\"center col-qty\" style=\"vertical-align: middle !important; text-align: center;\">\n    {{ \"%.3f\"|format(item.qty or 0) }}\n</td>\n          <td rowspan=\"{{ readings_count }}\" class=\"center col-amount\" style=\"vertical-align: middle !important; text-align: center;\">{{ \"%.3f\"|format(item.amount or 0) }}</td>\n        {% endif %}\n      </tr>\n    {% endfor %}\n{% endfor %}\n\n  <!-- Total Row -->\n  <tr>\n    <td colspan=\"5\" class=\"right\"><strong>Total</strong></td>\n    <td class=\"center\"><strong>{{ \"%.3f\"|format(doc.total) }}</strong></td>\n  </tr>\n\n  <!-- Amount in Words -->\n  <tr>\n    <td colspan=\"6\" class=\"amount-words\">\n      <strong>Amount in Word:</strong> {{ frappe.utils.money_in_words(doc.total, doc.currency) }}\n    </td>\n  </tr>\n\n  <!-- Signature Row -->\n  <tr>\n    <td class=\"signature-cell\">Checked By</td>\n    <td class=\"signature-cell\">Verified By</td>\n    <td class=\"signature-cell\">QC</td>\n    <td class=\"signature-cell\">Accountant</td>\n    <td class=\"signature-cell\">HOD</td>\n    <td class=\"signature-cell\">Stamp</td>\n  </tr>\n</table>\n\n</body>\n</html>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2026-01-01 10:50:30.067844",
 "modified_by": "Administrator",
 "module": "Sheetal Supply Chain",
 "name": "Milk Purchase",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}
